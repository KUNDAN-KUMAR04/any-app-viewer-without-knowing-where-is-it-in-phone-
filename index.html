<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>APK Bypass ‚Äî Open Any Android App Directly</title>
<link href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;600;700&family=Orbitron:wght@700;900&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
:root{
  --g:#00ff88; --r:#ff3e3e; --b:#00ccff; --y:#ffcc00;
  --bg:#080808; --bg2:#111; --bg3:#181818; --card:#141414;
  --border:#222; --text:#e0e0e0; --dim:#666;
  --radius:2px;
}
*{margin:0;padding:0;box-sizing:border-box}
html{scroll-behavior:smooth}
body{background:var(--bg);color:var(--text);font-family:'Rajdhani',sans-serif;overflow-x:hidden;min-height:100vh}

/* scanline */
body::before{content:'';position:fixed;inset:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.04) 2px,rgba(0,0,0,.04) 4px);pointer-events:none;z-index:9999}

/* ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ */
header{background:#0c0c0c;border-bottom:1px solid var(--g);position:sticky;top:0;z-index:200;box-shadow:0 0 24px rgba(0,255,136,.12)}
.h-strip{background:var(--g);padding:3px 20px;display:flex;justify-content:space-between;align-items:center}
.h-strip span{font-family:'Share Tech Mono',monospace;font-size:10px;color:#000;font-weight:700;letter-spacing:1px}
.h-main{display:flex;justify-content:space-between;align-items:center;padding:10px 20px;max-width:1400px;margin:0 auto;gap:12px;flex-wrap:wrap}
.logo{font-family:'Orbitron',monospace;font-size:1.4rem;font-weight:900;color:var(--g);text-decoration:none;letter-spacing:2px;text-shadow:0 0 20px rgba(0,255,136,.3)}
.logo b{color:var(--r)}
.h-actions{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.badge{font-family:'Share Tech Mono',monospace;font-size:11px;padding:5px 12px;border:1px solid;letter-spacing:1px;cursor:default}
.badge-g{color:var(--g);border-color:var(--g);background:rgba(0,255,136,.07)}
.badge-y{color:var(--y);border-color:var(--y);background:rgba(255,204,0,.07);cursor:pointer;transition:.15s}
.badge-y:hover{background:rgba(255,204,0,.15)}
.badge-b{color:var(--b);border-color:var(--b);background:rgba(0,204,255,.07);cursor:pointer;transition:.15s}
.badge-b:hover{background:rgba(0,204,255,.15)}

/* ‚îÄ‚îÄ‚îÄ PAGE SYSTEM ‚îÄ‚îÄ‚îÄ */
.page{display:none}
.page.active{display:block}

/* ‚îÄ‚îÄ‚îÄ HOME/DEVICE DETECT ‚îÄ‚îÄ‚îÄ */
.detect-hero{padding:60px 20px 40px;text-align:center;background:linear-gradient(180deg,#0c0c0c,var(--bg));border-bottom:1px solid var(--border);position:relative;overflow:hidden}
.detect-hero::before{content:'';position:absolute;top:-100px;left:50%;transform:translateX(-50%);width:500px;height:500px;background:radial-gradient(circle,rgba(0,255,136,.06),transparent 70%);pointer-events:none}
.det-chip{display:inline-block;background:var(--r);color:#fff;font-family:'Share Tech Mono',monospace;font-size:10px;padding:3px 12px;letter-spacing:2px;margin-bottom:14px}
.detect-hero h1{font-family:'Orbitron',monospace;font-size:clamp(1.8rem,5vw,3rem);font-weight:900;letter-spacing:2px;margin-bottom:10px;line-height:1.1}
.detect-hero h1 em{color:var(--g);font-style:normal;text-shadow:0 0 30px rgba(0,255,136,.4)}
.detect-hero p{font-family:'Share Tech Mono',monospace;font-size:12px;color:var(--dim);line-height:2;margin-bottom:30px;max-width:500px;margin-left:auto;margin-right:auto}

/* device detected card */
.detected-card{display:inline-flex;flex-direction:column;align-items:center;gap:10px;background:var(--bg2);border:2px solid var(--g);padding:24px 40px;margin-bottom:30px;box-shadow:0 0 40px rgba(0,255,136,.1);animation:pulse 2s ease infinite}
@keyframes pulse{0%,100%{box-shadow:0 0 30px rgba(0,255,136,.1)}50%{box-shadow:0 0 50px rgba(0,255,136,.2)}}
.det-logo{font-size:3rem;line-height:1}
.det-name{font-family:'Orbitron',monospace;font-size:1.2rem;font-weight:900;color:var(--g);letter-spacing:2px}
.det-os{font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--dim);letter-spacing:1px}
.btn-go{display:inline-block;background:var(--g);color:#000;font-family:'Orbitron',monospace;font-weight:700;font-size:0.9rem;padding:12px 32px;cursor:pointer;letter-spacing:2px;border:none;transition:.2s;text-transform:uppercase}
.btn-go:hover{background:#00cc6a;transform:translateY(-1px)}

/* brand grid on home */
.brand-grid-wrap{max-width:1200px;margin:0 auto;padding:30px 20px}
.section-label{font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--dim);letter-spacing:3px;text-transform:uppercase;border-bottom:1px solid var(--border);padding-bottom:10px;margin-bottom:18px}
.brand-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:8px}
.brand-tile{background:var(--card);border:1px solid var(--border);padding:20px 14px;text-align:center;cursor:pointer;transition:.15s;display:flex;flex-direction:column;align-items:center;gap:8px}
.brand-tile:hover{border-color:var(--g);background:rgba(0,255,136,.04);transform:translateY(-2px)}
.brand-tile .bt-ico{font-size:2rem}
.brand-tile .bt-name{font-family:'Orbitron',monospace;font-size:.7rem;font-weight:700;color:var(--text);letter-spacing:1px;text-transform:uppercase}
.brand-tile .bt-os{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--dim)}
.brand-tile .bt-count{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--g)}

/* ‚îÄ‚îÄ‚îÄ DEVICE PAGE ‚îÄ‚îÄ‚îÄ */
.dev-page{max-width:1400px;margin:0 auto;padding:0 20px 60px}

/* device hero band */
.dev-hero{padding:24px 20px;background:var(--bg2);border-bottom:3px solid var(--g);margin-bottom:0;display:flex;align-items:center;gap:16px;flex-wrap:wrap}
.dev-hero-ico{font-size:2.5rem}
.dev-hero-info{flex:1}
.dev-hero-name{font-family:'Orbitron',monospace;font-size:1.2rem;font-weight:900;color:var(--g);letter-spacing:2px;text-transform:uppercase}
.dev-hero-os{font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--dim);margin-top:3px;letter-spacing:1px}
.dev-hero-stats{display:flex;gap:20px;flex-wrap:wrap}
.dev-stat{text-align:center}
.dev-stat-n{font-family:'Orbitron',monospace;font-size:1.4rem;font-weight:700;color:var(--g);display:block}
.dev-stat-l{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--dim);letter-spacing:1px;text-transform:uppercase}

/* quick launch bar (defaults) */
.quick-bar{background:var(--bg2);border-bottom:1px solid var(--border);padding:0}
.quick-bar-title{font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--y);letter-spacing:2px;padding:10px 20px 6px;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}
.quick-chips{display:flex;gap:6px;padding:10px 20px;flex-wrap:wrap;overflow-x:auto}
.qchip{display:flex;align-items:center;gap:6px;padding:8px 14px;border:1px solid var(--border);background:var(--card);cursor:pointer;transition:.15s;text-decoration:none;color:var(--text);white-space:nowrap;min-width:0;font-size:0}
.qchip:hover,.qchip.set{border-color:var(--y)}
.qchip.set{background:rgba(255,204,0,.06)}
.qchip .qc-ico{font-size:1.1rem}
.qchip .qc-info{display:flex;flex-direction:column;gap:1px}
.qchip .qc-label{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--dim);letter-spacing:1px;text-transform:uppercase}
.qchip .qc-name{font-family:'Rajdhani',sans-serif;font-weight:600;font-size:13px;color:var(--text)}
.qchip.set .qc-name{color:var(--y)}
.qchip-add{border-style:dashed;color:var(--dim)}
.qchip-add:hover{border-color:var(--g);color:var(--g)}

/* filter bar */
.filter-bar{padding:12px 0;display:flex;gap:8px;flex-wrap:wrap;align-items:center;border-bottom:1px solid var(--border);margin-bottom:20px;position:sticky;top:73px;background:var(--bg);z-index:80;padding-top:16px;padding-bottom:12px}
.s-wrap{flex:1;min-width:180px;position:relative}
.s-wrap::before{content:'‚åï';position:absolute;left:10px;top:50%;transform:translateY(-50%);color:var(--g);font-size:17px;pointer-events:none}
input.search{width:100%;background:var(--card);border:1px solid var(--border);color:var(--text);font-family:'Share Tech Mono',monospace;font-size:12px;padding:9px 12px 9px 32px;outline:none;transition:.2s}
input.search:focus{border-color:var(--g)}
input.search::placeholder{color:var(--dim)}
.cat-btns{display:flex;gap:5px;flex-wrap:wrap}
.cat-btn{font-family:'Share Tech Mono',monospace;font-size:10px;padding:6px 12px;border:1px solid var(--border);background:var(--card);color:var(--dim);cursor:pointer;transition:.15s;letter-spacing:.5px;text-transform:uppercase}
.cat-btn:hover,.cat-btn.on{border-color:var(--g);color:var(--g);background:rgba(0,255,136,.05)}

/* ‚îÄ‚îÄ‚îÄ APP GROUPS ‚îÄ‚îÄ‚îÄ */
.app-group{margin-bottom:32px;animation:fadeUp .3s ease both}
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
.ag-head{display:flex;align-items:center;gap:10px;padding:8px 0;border-bottom:1px solid var(--border);margin-bottom:10px;position:relative}
.ag-head::after{content:'';position:absolute;bottom:-1px;left:0;width:40px;height:2px;background:var(--g)}
.ag-priority{font-family:'Share Tech Mono',monospace;font-size:9px;padding:2px 7px;letter-spacing:1px;text-transform:uppercase;border:1px solid}
.ag-priority.native{color:var(--g);border-color:var(--g);background:rgba(0,255,136,.08)}
.ag-priority.popular{color:var(--b);border-color:var(--b);background:rgba(0,204,255,.08)}
.ag-priority.third{color:var(--dim);border-color:var(--border)}
.ag-title{font-family:'Rajdhani',sans-serif;font-weight:700;font-size:1rem;color:var(--text);letter-spacing:.5px;text-transform:uppercase;flex:1}
.ag-count{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--dim);border:1px solid var(--border);padding:2px 7px}

/* ‚îÄ‚îÄ‚îÄ APP ROW ‚îÄ‚îÄ‚îÄ */
.app-list{list-style:none;display:flex;flex-direction:column;gap:2px}
.app-li{background:var(--card);border:1px solid var(--border);transition:.12s}
.app-li:hover{border-color:rgba(0,255,136,.3);background:#1a1a1a}
.app-li.is-default{border-color:rgba(255,204,0,.35)}
.app-li.is-default:hover{border-color:rgba(255,204,0,.6)}

/* THE INTENT LINK ‚Äî entertechpro.com exact method */
a.app-link{display:flex;align-items:center;gap:10px;padding:10px 14px;text-decoration:none;color:var(--text);transition:.12s}
a.app-link:hover{color:var(--g)}
.al-open{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--dim);min-width:28px;letter-spacing:1px;flex-shrink:0}
.al-ico{font-size:1.2rem;width:24px;text-align:center;flex-shrink:0}
.al-name{font-family:'Rajdhani',sans-serif;font-weight:600;font-size:1rem;flex:1;min-width:0}
.al-pkg{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--dim);display:none;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
@media(min-width:580px){.al-pkg{display:block}}
.al-cat{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--b);background:rgba(0,204,255,.07);border:1px solid rgba(0,204,255,.2);padding:2px 6px;flex-shrink:0;letter-spacing:.5px;text-transform:uppercase}
.al-def-badge{font-family:'Share Tech Mono',monospace;font-size:8px;color:var(--y);background:rgba(255,204,0,.1);border:1px solid rgba(255,204,0,.3);padding:2px 5px;flex-shrink:0}
.btn-setdef{background:none;border:1px solid var(--border);color:var(--dim);font-family:'Share Tech Mono',monospace;font-size:8px;padding:3px 7px;cursor:pointer;transition:.15s;flex-shrink:0;letter-spacing:.5px}
.btn-setdef:hover{border-color:var(--y);color:var(--y)}
.btn-setdef.on{border-color:rgba(255,204,0,.4);color:var(--y)}
.btn-cp{background:none;border:1px solid var(--border);color:var(--dim);font-size:10px;padding:3px 7px;cursor:pointer;transition:.15s;flex-shrink:0}
.btn-cp:hover{border-color:var(--b);color:var(--b)}
.al-arr{color:var(--g);font-size:.8rem;opacity:0;transition:.15s;flex-shrink:0}
a.app-link:hover .al-arr{opacity:1;transform:translateX(3px)}

/* ‚îÄ‚îÄ‚îÄ MODAL ‚îÄ‚îÄ‚îÄ */
.modal-bg{display:none;position:fixed;inset:0;background:rgba(0,0,0,.88);z-index:500;align-items:center;justify-content:center;padding:20px}
.modal-bg.open{display:flex}
.modal{background:var(--bg2);border:1px solid var(--y);width:100%;max-width:520px;max-height:82vh;display:flex;flex-direction:column;box-shadow:0 0 50px rgba(255,204,0,.12);animation:mIn .2s ease}
@keyframes mIn{from{opacity:0;scale:.97}to{opacity:1;scale:1}}
.modal-hdr{display:flex;justify-content:space-between;align-items:flex-start;padding:16px 20px;border-bottom:1px solid var(--border);background:rgba(255,204,0,.04);gap:10px}
.modal-ttl{font-family:'Orbitron',monospace;font-size:.8rem;font-weight:700;color:var(--y);letter-spacing:1px}
.modal-sub{font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--dim);margin-top:3px;line-height:1.5}
.modal-x{background:none;border:1px solid var(--border);color:var(--dim);width:28px;height:28px;cursor:pointer;font-family:'Share Tech Mono',monospace;font-size:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:.15s}
.modal-x:hover{border-color:var(--r);color:var(--r)}
.modal-srch{padding:10px 16px;border-bottom:1px solid var(--border)}
.modal-srch input{width:100%;background:var(--card);border:1px solid var(--border);color:var(--text);font-family:'Share Tech Mono',monospace;font-size:12px;padding:8px 12px;outline:none}
.modal-srch input:focus{border-color:var(--y)}
.modal-list{overflow-y:auto;flex:1}
.m-item{display:flex;align-items:center;gap:12px;padding:11px 20px;border-bottom:1px solid var(--border);cursor:pointer;transition:.1s}
.m-item:hover{background:rgba(255,204,0,.04)}
.m-item.sel{background:rgba(255,204,0,.07);border-left:2px solid var(--y)}
.m-ico{font-size:1.2rem;flex-shrink:0}
.m-info{flex:1;min-width:0}
.m-name{font-family:'Rajdhani',sans-serif;font-weight:600;font-size:1rem;color:var(--text)}
.m-pkg{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--dim);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.m-brand{font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--b)}
.m-check{color:var(--y);font-size:1rem}
.m-empty{padding:30px;text-align:center;font-family:'Share Tech Mono',monospace;font-size:12px;color:var(--dim)}

/* ‚îÄ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ‚îÄ */
.toast{position:fixed;bottom:24px;right:20px;font-family:'Share Tech Mono',monospace;font-size:12px;font-weight:700;padding:9px 18px;z-index:9000;animation:tin .25s ease;letter-spacing:1px}
@keyframes tin{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}
.toast.g{background:var(--g);color:#000}
.toast.y{background:var(--y);color:#000}

/* ‚îÄ‚îÄ‚îÄ EMPTY STATE ‚îÄ‚îÄ‚îÄ */
.empty{padding:50px 20px;text-align:center;color:var(--dim);font-family:'Share Tech Mono',monospace;font-size:12px}
.empty-ico{font-size:2.5rem;opacity:.25;margin-bottom:10px}

footer{background:var(--bg2);border-top:1px solid var(--border);padding:16px 20px;text-align:center;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--dim);letter-spacing:1px}
footer em{color:var(--g);font-style:normal}
</style>
</head>
<body>

<header>
  <div class="h-strip">
    <span>‚ñ∂ APK BYPASS ‚Äî DIRECT ANDROID APP LAUNCH</span>
    <span id="hStrip">üì± DETECTING DEVICE...</span>
  </div>
  <div class="h-main">
    <a href="#" class="logo" onclick="showHome();return false">APK<b>.</b>BYPASS</a>
    <div class="h-actions">
      <button class="badge badge-y" onclick="openDefaultsModal()">‚öô SET DEFAULTS</button>
      <button class="badge badge-b" onclick="showAllBrands()">‚â° ALL BRANDS</button>
      <div class="badge badge-g" id="hBadge">DETECTING</div>
    </div>
  </div>
</header>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: HOME / DEVICE DETECT
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page active" id="page-home">
  <div class="detect-hero">
    <div class="det-chip">‚ñ∂ DEVICE AUTO-DETECTED</div>
    <h1>YOUR DEVICE.<br><em>YOUR APPS.</em></h1>
    <p>// we detected your phone brand<br>// tap below to see apps made for YOUR device<br>// click any link ‚Üí app opens instantly on android</p>

    <div class="detected-card" id="detectedCard">
      <div class="det-logo" id="detLogo">üì±</div>
      <div class="det-name" id="detName">DETECTING...</div>
      <div class="det-os" id="detOS">Reading user agent...</div>
    </div>
    <br>
    <button class="btn-go" id="btnGo" onclick="goToDetected()">OPEN MY DEVICE PAGE ‚Üí</button>
  </div>

  <div class="brand-grid-wrap">
    <div class="section-label">// or select your brand manually</div>
    <div class="brand-grid" id="brandGrid"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
     PAGE: DEVICE-SPECIFIC
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-device">
  <div class="dev-hero" id="devHero"></div>

  <div class="quick-bar">
    <div class="quick-bar-title">
      <span>‚ö° QUICK LAUNCH ‚Äî YOUR DEFAULT APPS</span>
      <span id="defaultsCount" style="color:var(--dim);font-size:10px">0/8 SET</span>
    </div>
    <div class="quick-chips" id="quickChips"></div>
  </div>

  <div class="dev-page">
    <div class="filter-bar">
      <div class="s-wrap"><input class="search" id="devSearch" placeholder="Search apps or packages..." oninput="renderDevApps()"></div>
      <div class="cat-btns" id="catBtns"></div>
    </div>
    <div id="devAppSections"></div>
  </div>
</div>

<!-- MODAL -->
<div class="modal-bg" id="modalBg" onclick="if(event.target===this)closeModal()">
  <div class="modal">
    <div class="modal-hdr">
      <div>
        <div class="modal-ttl" id="modalTtl">SELECT DEFAULT</div>
        <div class="modal-sub" id="modalSub"></div>
      </div>
      <button class="modal-x" onclick="closeModal()">‚úï</button>
    </div>
    <div class="modal-srch"><input type="text" id="modalSrch" placeholder="Search apps..." oninput="renderModalItems()"></div>
    <div class="modal-list" id="modalItems"></div>
  </div>
</div>

<footer><em>APK.BYPASS</em> // intent://pkg/#Intent;scheme=android-app;end // DIRECT ANDROID LAUNCH</footer>

<script>
'use strict';

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MASTER DATABASE
// Structure: each brand has { meta, native[], popular[], third[] }
// native = brand's own system apps (highest priority)
// popular = popular 3rd party that work on this device
// third = other useful apps
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const BRANDS = {

samsung: {
  name:'Samsung', emoji:'üè¢', os:'One UI / Android',
  detect: ua => /SM-[A-Z]|Samsung/i.test(ua),
  color:'#1428a0',
  native: [
    {name:'Phone (Dialer)',        pkg:'com.samsung.android.dialer',                icon:'üìû', cat:'phone'},
    {name:'Messages',              pkg:'com.samsung.android.messaging',             icon:'üí¨', cat:'messages'},
    {name:'My Files',              pkg:'com.sec.android.app.myfiles',               icon:'üìÅ', cat:'files'},
    {name:'Camera',                pkg:'com.sec.android.app.camera',                icon:'üì∑', cat:'camera'},
    {name:'Gallery',               pkg:'com.sec.android.gallery3d',                 icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Home Launcher',         pkg:'com.sec.android.app.launcher',              icon:'üè†', cat:'launcher'},
    {name:'Galaxy Store',          pkg:'com.sec.android.app.samsungapps',           icon:'üõç', cat:'store'},
    {name:'Samsung Internet',      pkg:'com.sec.android.app.sbrowser',              icon:'üåê', cat:'browser'},
    {name:'Samsung Contacts',      pkg:'com.samsung.android.app.contacts',          icon:'üë•', cat:'system'},
    {name:'Samsung Calendar',      pkg:'com.samsung.android.calendar',              icon:'üìÖ', cat:'system'},
    {name:'Samsung Notes',         pkg:'com.samsung.android.app.notes',             icon:'üìù', cat:'utility'},
    {name:'Samsung Health',        pkg:'com.sec.android.app.shealth',               icon:'‚ù§Ô∏è',cat:'health'},
    {name:'Samsung Pay',           pkg:'com.samsung.android.spay',                  icon:'üí≥', cat:'security'},
    {name:'Samsung Pass',          pkg:'com.samsung.android.samsungpass',           icon:'üîê', cat:'security'},
    {name:'Samsung Members',       pkg:'com.samsung.android.voc',                   icon:'üë§', cat:'system'},
    {name:'Secure Folder',         pkg:'com.samsung.knox.securefolder',             icon:'üîí', cat:'security'},
    {name:'SmartThings',           pkg:'com.samsung.android.beaconmanager',         icon:'üì°', cat:'utility'},
    {name:'Bixby',                 pkg:'com.samsung.android.bixby.agent',           icon:'ü§ñ', cat:'system'},
    {name:'Smart Switch',          pkg:'com.sec.android.easyMover',                 icon:'‚ÜîÔ∏è', cat:'utility'},
    {name:'Samsung Clock',         pkg:'com.sec.android.app.clockpackage',          icon:'üïê', cat:'utility'},
    {name:'Samsung Calculator',    pkg:'com.sec.android.app.popupcalculator',       icon:'üî¢', cat:'utility'},
    {name:'Samsung Music',         pkg:'com.sec.android.app.music',                 icon:'üéµ', cat:'utility'},
    {name:'Samsung Video',         pkg:'com.samsung.android.video',                 icon:'‚ñ∂Ô∏è', cat:'utility'},
    {name:'Samsung Kids',          pkg:'com.samsung.android.kidsinstaller',         icon:'üë∂', cat:'system'},
    {name:'AR Zone',               pkg:'com.samsung.android.arzone',                icon:'ü•Ω', cat:'system'},
    {name:'Nearby Share',          pkg:'com.samsung.android.nearby',                icon:'üì∂', cat:'utility'},
    {name:'Link to Windows',       pkg:'com.microsoft.appmanager',                  icon:'ü™ü', cat:'utility'},
    {name:'Samsung DeX',           pkg:'com.sec.android.desktopmode.uiservice',     icon:'üñ•Ô∏è', cat:'system'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Google Messages',       pkg:'com.google.android.apps.messaging',         icon:'üí¨', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Firefox',               pkg:'org.mozilla.firefox',                       icon:'ü¶ä', cat:'browser'},
    {name:'Google Files',          pkg:'com.google.android.apps.nbu.files',         icon:'üìÅ', cat:'files'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Google Photos',         pkg:'com.google.android.apps.photos',            icon:'üì∑', cat:'gallery'},
  ]
},

xiaomi: {
  name:'Xiaomi / MIUI / HyperOS', emoji:'üî¥', os:'HyperOS / MIUI',
  detect: ua => /xiaomi|MI |Redmi|POCO|HyperOS/i.test(ua),
  color:'#ff6900',
  native: [
    {name:'Phone (MIUI Dialer)',   pkg:'com.android.incallui',                      icon:'üìû', cat:'phone'},
    {name:'Phone (Google Dialer)', pkg:'com.google.android.dialer',                 icon:'üìû', cat:'phone', note:'Global ROM'},
    {name:'Messages (MIUI)',       pkg:'com.android.mms',                           icon:'üí¨', cat:'messages'},
    {name:'Mi File Manager',       pkg:'com.mi.android.globalFileexplorer',         icon:'üìÅ', cat:'files'},
    {name:'Mi File Manager (CN)',  pkg:'com.android.fileexplorer',                  icon:'üìÅ', cat:'files'},
    {name:'MIUI Camera',           pkg:'com.android.camera',                        icon:'üì∑', cat:'camera'},
    {name:'MIUI Gallery',          pkg:'com.miui.gallery',                          icon:'üñºÔ∏è',cat:'gallery'},
    {name:'MIUI Launcher',         pkg:'com.miui.launcher',                         icon:'üè†', cat:'launcher'},
    {name:'GetApps (Mi Store)',    pkg:'com.xiaomi.mipicks',                        icon:'üõç', cat:'store'},
    {name:'MIUI Browser',          pkg:'com.mi.globalbrowser',                      icon:'üåê', cat:'browser'},
    {name:'Mi Music',              pkg:'com.miui.player',                           icon:'üéµ', cat:'utility'},
    {name:'Mi Video',              pkg:'com.miui.video',                            icon:'‚ñ∂Ô∏è', cat:'utility'},
    {name:'MIUI Notes',            pkg:'com.miui.notes',                            icon:'üìù', cat:'utility'},
    {name:'MIUI Clock',            pkg:'com.android.deskclock',                     icon:'üïê', cat:'utility'},
    {name:'MIUI Calculator',       pkg:'com.miui.calculator',                       icon:'üî¢', cat:'utility'},
    {name:'Mi Health',             pkg:'com.mi.health',                             icon:'‚ù§Ô∏è',cat:'health'},
    {name:'Mi Home (IoT)',         pkg:'com.xiaomi.smarthome',                      icon:'üè†', cat:'utility'},
    {name:'MIUI Security',         pkg:'com.miui.securitycenter',                   icon:'üõ°Ô∏è',cat:'security'},
    {name:'MIUI Settings',         pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
    {name:'Mi ShareMe',            pkg:'com.xiaomi.midrop',                         icon:'‚ö°', cat:'utility'},
    {name:'MIUI Contacts',         pkg:'com.android.contacts',                      icon:'üë•', cat:'system'},
    {name:'MIUI Screen Recorder',  pkg:'com.miui.screenrecorder',                   icon:'üìπ', cat:'utility'},
    {name:'Cleaner (MIUI)',        pkg:'com.miui.cleanmaster',                      icon:'üßπ', cat:'utility'},
    {name:'Mi Mover',              pkg:'com.xiaomi.mover',                          icon:'‚ÜîÔ∏è', cat:'utility'},
    {name:'Themes (MIUI)',         pkg:'com.android.thememanager',                  icon:'üé®', cat:'utility'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Google Photos',         pkg:'com.google.android.apps.photos',            icon:'üì∑', cat:'gallery'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Solid Explorer',        pkg:'pl.solidexplorer2',                         icon:'üìÇ', cat:'files'},
  ]
},

oppo: {
  name:'OPPO', emoji:'üü¢', os:'ColorOS',
  detect: ua => /OPPO|CPH\d|PH[AM]\d/i.test(ua),
  color:'#2cc76b',
  native: [
    {name:'Phone (ColorOS Dialer)',pkg:'com.coloros.dialer',                        icon:'üìû', cat:'phone'},
    {name:'Messages',              pkg:'com.coloros.mms',                           icon:'üí¨', cat:'messages'},
    {name:'My Files',              pkg:'com.coloros.filemanager',                   icon:'üìÅ', cat:'files'},
    {name:'Camera',                pkg:'com.coloros.camera',                        icon:'üì∑', cat:'camera'},
    {name:'Gallery',               pkg:'com.coloros.gallery',                       icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Launcher',              pkg:'com.coloros.launcher',                      icon:'üè†', cat:'launcher'},
    {name:'OPPO App Market',       pkg:'com.heytap.market',                         icon:'üõç', cat:'store'},
    {name:'Browser (ColorOS)',     pkg:'com.nearme.browser',                        icon:'üåê', cat:'browser'},
    {name:'Notes',                 pkg:'com.coloros.note',                          icon:'üìù', cat:'utility'},
    {name:'Clock',                 pkg:'com.coloros.alarmclock',                    icon:'üïê', cat:'utility'},
    {name:'Calculator',            pkg:'com.coloros.calculator',                    icon:'üî¢', cat:'utility'},
    {name:'Music (OPPO)',          pkg:'com.heytap.music',                          icon:'üéµ', cat:'utility'},
    {name:'Video Player',          pkg:'com.coloros.video',                         icon:'‚ñ∂Ô∏è', cat:'utility'},
    {name:'OPPO Themes',           pkg:'com.heytap.themestore',                     icon:'üé®', cat:'utility'},
    {name:'Phone Manager',         pkg:'com.coloros.phonemanager',                  icon:'üõ°Ô∏è',cat:'security'},
    {name:'Clone Phone',           pkg:'com.coloros.backuprestore',                 icon:'‚ÜîÔ∏è', cat:'utility'},
    {name:'OPPO Contacts',         pkg:'com.coloros.contacts',                      icon:'üë•', cat:'system'},
    {name:'Share',                 pkg:'com.heytap.nearbyshare',                    icon:'‚ö°', cat:'utility'},
    {name:'Health',                pkg:'com.heytap.health',                         icon:'‚ù§Ô∏è',cat:'health'},
    {name:'Weather',               pkg:'com.coloros.weather2',                      icon:'üå§', cat:'utility'},
    {name:'Screen Recorder',       pkg:'com.coloros.screenrecorder',                icon:'üìπ', cat:'utility'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Google Photos',         pkg:'com.google.android.apps.photos',            icon:'üì∑', cat:'gallery'},
    {name:'Google Files',          pkg:'com.google.android.apps.nbu.files',         icon:'üìÅ', cat:'files'},
  ]
},

vivo: {
  name:'Vivo / iQOO', emoji:'üíô', os:'Funtouch OS / OriginOS',
  detect: ua => /vivo|iQOO|V\d{4}[A-Z]/i.test(ua),
  color:'#1e90ff',
  native: [
    {name:'Phone (Vivo Dialer)',   pkg:'com.vivo.dialer',                           icon:'üìû', cat:'phone'},
    {name:'Messages (Vivo)',       pkg:'com.vivo.mms',                              icon:'üí¨', cat:'messages'},
    {name:'File Manager',          pkg:'com.vivo.filemanager',                      icon:'üìÅ', cat:'files'},
    {name:'Camera',                pkg:'com.vivo.camera',                           icon:'üì∑', cat:'camera'},
    {name:'Albums (Gallery)',       pkg:'com.vivo.gallery',                          icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Jovi Home (Launcher)',  pkg:'com.bbk.launcher2',                         icon:'üè†', cat:'launcher'},
    {name:'V-AppStore',            pkg:'com.vivo.appstore',                         icon:'üõç', cat:'store'},
    {name:'Vivo Browser',          pkg:'com.vivo.browser',                          icon:'üåê', cat:'browser'},
    {name:'iManager',              pkg:'com.vivo.abe',                              icon:'üõ°Ô∏è',cat:'security'},
    {name:'i Music',               pkg:'com.vivo.music',                            icon:'üéµ', cat:'utility'},
    {name:'Video (Vivo)',          pkg:'com.vivo.videoplayer',                      icon:'‚ñ∂Ô∏è', cat:'utility'},
    {name:'Notes',                 pkg:'com.vivo.notes',                            icon:'üìù', cat:'utility'},
    {name:'Clock',                 pkg:'com.vivo.alarmclock',                       icon:'üïê', cat:'utility'},
    {name:'Calculator',            pkg:'com.vivo.calculator',                       icon:'üî¢', cat:'utility'},
    {name:'Themes',                pkg:'com.vivo.themes',                           icon:'üé®', cat:'utility'},
    {name:'Easy Share',            pkg:'com.vivo.easyshare',                        icon:'‚ö°', cat:'utility'},
    {name:'Clone Phone',           pkg:'com.vivo.clonephone',                       icon:'‚ÜîÔ∏è', cat:'utility'},
    {name:'Health',                pkg:'com.vivo.health',                           icon:'‚ù§Ô∏è',cat:'health'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
    {name:'Contacts',              pkg:'com.android.contacts',                      icon:'üë•', cat:'system'},
    {name:'Screen Recorder',       pkg:'com.vivo.screenrecorder',                   icon:'üìπ', cat:'utility'},
    {name:'Weather',               pkg:'com.vivo.weather',                          icon:'üå§', cat:'utility'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Google Photos',         pkg:'com.google.android.apps.photos',            icon:'üì∑', cat:'gallery'},
    {name:'Google Files',          pkg:'com.google.android.apps.nbu.files',         icon:'üìÅ', cat:'files'},
  ]
},

realme: {
  name:'Realme', emoji:'‚ö°', os:'Realme UI / ColorOS',
  detect: ua => /Realme|RMX\d/i.test(ua),
  color:'#FFD700',
  native: [
    {name:'Phone (Dialer)',        pkg:'com.coloros.dialer',                        icon:'üìû', cat:'phone'},
    {name:'Messages',              pkg:'com.coloros.mms',                           icon:'üí¨', cat:'messages'},
    {name:'File Manager',          pkg:'com.coloros.filemanager',                   icon:'üìÅ', cat:'files'},
    {name:'Camera',                pkg:'com.coloros.camera',                        icon:'üì∑', cat:'camera'},
    {name:'Gallery',               pkg:'com.coloros.gallery',                       icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Launcher',              pkg:'com.coloros.launcher',                      icon:'üè†', cat:'launcher'},
    {name:'Realme Community',      pkg:'com.realme.community',                      icon:'üë•', cat:'system'},
    {name:'App Market',            pkg:'com.heytap.market',                         icon:'üõç', cat:'store'},
    {name:'Browser',               pkg:'com.nearme.browser',                        icon:'üåê', cat:'browser'},
    {name:'Realme Share',          pkg:'com.heytap.nearbyshare',                    icon:'‚ö°', cat:'utility'},
    {name:'Themes',                pkg:'com.heytap.themestore',                     icon:'üé®', cat:'utility'},
    {name:'Notes',                 pkg:'com.coloros.note',                          icon:'üìù', cat:'utility'},
    {name:'Music',                 pkg:'com.heytap.music',                          icon:'üéµ', cat:'utility'},
    {name:'Phone Manager',         pkg:'com.coloros.phonemanager',                  icon:'üõ°Ô∏è',cat:'security'},
    {name:'Health',                pkg:'com.heytap.health',                         icon:'‚ù§Ô∏è',cat:'health'},
    {name:'Clone Phone',           pkg:'com.coloros.backuprestore',                 icon:'‚ÜîÔ∏è', cat:'utility'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
    {name:'Screen Recorder',       pkg:'com.coloros.screenrecorder',                icon:'üìπ', cat:'utility'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Google Photos',         pkg:'com.google.android.apps.photos',            icon:'üì∑', cat:'gallery'},
  ]
},

oneplus: {
  name:'OnePlus', emoji:'‚öôÔ∏è', os:'OxygenOS / ColorOS',
  detect: ua => /OnePlus|ONEPLUS|OP[A-Z]\d/i.test(ua),
  color:'#f50514',
  native: [
    {name:'Phone (Google Dialer)', pkg:'com.google.android.dialer',                 icon:'üìû', cat:'phone', note:'Default on most'},
    {name:'Phone (OnePlus)',       pkg:'com.oneplus.dialer',                        icon:'üìû', cat:'phone'},
    {name:'Messages (Google)',     pkg:'com.google.android.apps.messaging',         icon:'üí¨', cat:'messages'},
    {name:'Messages (OnePlus)',    pkg:'com.oneplus.messaging',                     icon:'üí¨', cat:'messages'},
    {name:'File Manager',          pkg:'com.oneplus.filemanager',                   icon:'üìÅ', cat:'files'},
    {name:'Camera',                pkg:'com.oneplus.camera',                        icon:'üì∑', cat:'camera'},
    {name:'Gallery',               pkg:'com.oneplus.gallery',                       icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Launcher',              pkg:'net.oneplus.launcher',                      icon:'üè†', cat:'launcher'},
    {name:'OnePlus Store',         pkg:'com.oneplus.store',                         icon:'üõç', cat:'store'},
    {name:'Notes',                 pkg:'com.oneplus.notes',                         icon:'üìù', cat:'utility'},
    {name:'Clock',                 pkg:'com.oneplus.clock',                         icon:'üïê', cat:'utility'},
    {name:'Calculator',            pkg:'com.oneplus.calculator',                    icon:'üî¢', cat:'utility'},
    {name:'Weather',               pkg:'com.oneplus.weather',                       icon:'üå§', cat:'utility'},
    {name:'OnePlus Health',        pkg:'com.oneplus.health',                        icon:'‚ù§Ô∏è',cat:'health'},
    {name:'OnePlus Share',         pkg:'com.oneplus.sharetransfer',                 icon:'‚ö°', cat:'utility'},
    {name:'Clone Phone',           pkg:'com.oneplus.backuprestore',                 icon:'‚ÜîÔ∏è', cat:'utility'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
    {name:'HiddenSpace',           pkg:'com.oneplus.privatespace',                  icon:'üîí', cat:'security'},
    {name:'OnePlus Community',     pkg:'com.oneplus.community',                     icon:'üë•', cat:'system'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Google Photos',         pkg:'com.google.android.apps.photos',            icon:'üì∑', cat:'gallery'},
    {name:'Solid Explorer',        pkg:'pl.solidexplorer2',                         icon:'üìÇ', cat:'files'},
  ]
},

motorola: {
  name:'Motorola', emoji:'‚ìÇÔ∏è', os:'Near-Stock Android',
  detect: ua => /Motorola|MOTO[A-Z]|XT\d{4}/i.test(ua),
  color:'#cc0000',
  native: [
    {name:'Phone (Moto Dialer)',   pkg:'com.motorola.dialer',                       icon:'üìû', cat:'phone'},
    {name:'Messages (Moto)',       pkg:'com.motorola.messaging',                    icon:'üí¨', cat:'messages'},
    {name:'Files (Moto)',          pkg:'com.motorola.filemanager',                  icon:'üìÅ', cat:'files'},
    {name:'Camera',                pkg:'com.motorola.camera',                       icon:'üì∑', cat:'camera'},
    {name:'Gallery',               pkg:'com.motorola.gallery3d',                    icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Moto Launcher',         pkg:'com.motorola.launcher3',                    icon:'üè†', cat:'launcher'},
    {name:'Moto App',              pkg:'com.motorola.moto',                         icon:'‚öôÔ∏è', cat:'system'},
    {name:'Moto Secure',           pkg:'com.motorola.securityhub',                  icon:'üîí', cat:'security'},
    {name:'Moto Gestures',         pkg:'com.motorola.actions',                      icon:'üëÜ', cat:'system'},
    {name:'Moto Display',          pkg:'com.motorola.targetnotif',                  icon:'üí°', cat:'system'},
    {name:'Clock',                 pkg:'com.android.deskclock',                     icon:'üïê', cat:'utility'},
    {name:'Calculator',            pkg:'com.android.calculator2',                   icon:'üî¢', cat:'utility'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
    {name:'Contacts',              pkg:'com.android.contacts',                      icon:'üë•', cat:'system'},
  ],
  popular: [
    {name:'Google Phone',          pkg:'com.google.android.dialer',                 icon:'üìû', cat:'phone'},
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Google Messages',       pkg:'com.google.android.apps.messaging',         icon:'üí¨', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Google Files',          pkg:'com.google.android.apps.nbu.files',         icon:'üìÅ', cat:'files'},
    {name:'Google Photos',         pkg:'com.google.android.apps.photos',            icon:'üì∑', cat:'gallery'},
  ]
},

nokia: {
  name:'Nokia', emoji:'üîµ', os:'Android One / Stock',
  detect: ua => /Nokia|HMD/i.test(ua),
  color:'#005AFF',
  native: [
    {name:'Phone (Google Dialer)', pkg:'com.google.android.dialer',                 icon:'üìû', cat:'phone'},
    {name:'Messages (Google)',     pkg:'com.google.android.apps.messaging',         icon:'üí¨', cat:'messages'},
    {name:'Files (Google)',        pkg:'com.google.android.apps.nbu.files',         icon:'üìÅ', cat:'files'},
    {name:'Camera',                pkg:'com.android.camera2',                       icon:'üì∑', cat:'camera'},
    {name:'Gallery (Google)',      pkg:'com.google.android.apps.photos',            icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Launcher',              pkg:'com.android.launcher3',                     icon:'üè†', cat:'launcher'},
    {name:'Clock',                 pkg:'com.android.deskclock',                     icon:'üïê', cat:'utility'},
    {name:'Calculator',            pkg:'com.android.calculator2',                   icon:'üî¢', cat:'utility'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
    {name:'Contacts',              pkg:'com.android.contacts',                      icon:'üë•', cat:'system'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
  ]
},

asus: {
  name:'ASUS / ROG', emoji:'‚¨ÜÔ∏è', os:'ZenUI / ROG UI',
  detect: ua => /ASUS|ZenFone|ROG Phone/i.test(ua),
  color:'#0066ff',
  native: [
    {name:'Phone (ASUS Dialer)',   pkg:'com.asus.contacts',                         icon:'üìû', cat:'phone'},
    {name:'Messages',              pkg:'com.asus.message',                           icon:'üí¨', cat:'messages'},
    {name:'File Manager',          pkg:'com.asus.filemanager',                      icon:'üìÅ', cat:'files'},
    {name:'Camera (ZenFone)',      pkg:'com.asus.camera',                           icon:'üì∑', cat:'camera'},
    {name:'Gallery',               pkg:'com.asus.gallery',                          icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Launcher (ZenUI)',      pkg:'com.asus.launcher',                         icon:'üè†', cat:'launcher'},
    {name:'ASUS Data Transfer',    pkg:'com.futuredial.asusdatatransfer',            icon:'‚ÜîÔ∏è', cat:'utility'},
    {name:'Mobile Manager',        pkg:'com.asus.mobilemanager',                    icon:'üõ°Ô∏è',cat:'security'},
    {name:'ROG Armory Crate',      pkg:'com.asus.armoury.master',                   icon:'üéÆ', cat:'system'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
    {name:'Contacts',              pkg:'com.android.contacts',                      icon:'üë•', cat:'system'},
    {name:'Clock',                 pkg:'com.android.deskclock',                     icon:'üïê', cat:'utility'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
  ]
},

google_pixel: {
  name:'Google Pixel', emoji:'üîµ', os:'Pixel Android',
  detect: ua => /Pixel|Nexus/i.test(ua),
  color:'#4285f4',
  native: [
    {name:'Phone (Google)',        pkg:'com.google.android.dialer',                 icon:'üìû', cat:'phone'},
    {name:'Messages (Google)',     pkg:'com.google.android.apps.messaging',         icon:'üí¨', cat:'messages'},
    {name:'Files (Google)',        pkg:'com.google.android.apps.nbu.files',         icon:'üìÅ', cat:'files'},
    {name:'Camera (GCam)',         pkg:'com.google.android.GoogleCamera',           icon:'üì∑', cat:'camera'},
    {name:'Photos',                pkg:'com.google.android.apps.photos',            icon:'üñºÔ∏è',cat:'gallery'},
    {name:'Pixel Launcher',        pkg:'com.google.android.apps.nexuslauncher',     icon:'üè†', cat:'launcher'},
    {name:'Play Store',            pkg:'com.android.vending',                       icon:'üõç', cat:'store'},
    {name:'Chrome',                pkg:'com.android.chrome',                        icon:'üåê', cat:'browser'},
    {name:'Clock',                 pkg:'com.google.android.deskclock',              icon:'üïê', cat:'utility'},
    {name:'Calculator',            pkg:'com.google.android.calculator',             icon:'üî¢', cat:'utility'},
    {name:'Contacts',              pkg:'com.google.android.contacts',               icon:'üë•', cat:'system'},
    {name:'Recorder',              pkg:'com.google.android.apps.recorder',          icon:'üéô', cat:'utility'},
    {name:'Gmail',                 pkg:'com.google.android.gm',                     icon:'üìß', cat:'utility'},
    {name:'Maps',                  pkg:'com.google.android.apps.maps',              icon:'üó∫', cat:'utility'},
    {name:'Assistant',             pkg:'com.google.android.googlequicksearchbox',   icon:'ü§ñ', cat:'system'},
    {name:'Settings',              pkg:'com.android.settings',                      icon:'‚öôÔ∏è', cat:'system'},
  ],
  popular: [
    {name:'Truecaller',            pkg:'com.truecaller',                            icon:'üìû', cat:'phone'},
    {name:'WhatsApp',              pkg:'com.whatsapp',                              icon:'üíö', cat:'messages'},
    {name:'Telegram',              pkg:'org.telegram.messenger',                    icon:'‚úàÔ∏è', cat:'messages'},
    {name:'Nova Launcher',         pkg:'com.teslacoilsw.launcher',                  icon:'üöÄ', cat:'launcher'},
    {name:'Solid Explorer',        pkg:'pl.solidexplorer2',                         icon:'üìÇ', cat:'files'},
  ]
}

};

// Popular 3rd-party used across all brands (for the "popular apps" section)
const UNIVERSAL_POPULAR = [
  {name:'Truecaller',          pkg:'com.truecaller',                          icon:'üìû', cat:'phone'},
  {name:'Drupe Dialer',        pkg:'com.batutech.drupe',                      icon:'üìû', cat:'phone'},
  {name:'WhatsApp',            pkg:'com.whatsapp',                            icon:'üíö', cat:'messages'},
  {name:'WhatsApp Business',   pkg:'com.whatsapp.w4b',                       icon:'üíö', cat:'messages'},
  {name:'Telegram',            pkg:'org.telegram.messenger',                  icon:'‚úàÔ∏è', cat:'messages'},
  {name:'Signal',              pkg:'org.thoughtcrime.securesms',              icon:'üîµ', cat:'messages'},
  {name:'Google Messages',     pkg:'com.google.android.apps.messaging',       icon:'üí¨', cat:'messages'},
  {name:'QKSMS',               pkg:'com.moez.QKSMS',                         icon:'üí¨', cat:'messages'},
  {name:'Chrome',              pkg:'com.android.chrome',                      icon:'üåê', cat:'browser'},
  {name:'Firefox',             pkg:'org.mozilla.firefox',                     icon:'ü¶ä', cat:'browser'},
  {name:'Brave',               pkg:'com.brave.browser',                       icon:'ü¶Å', cat:'browser'},
  {name:'Opera',               pkg:'com.opera.browser',                       icon:'üî¥', cat:'browser'},
  {name:'DuckDuckGo',          pkg:'com.duckduckgo.mobile.android',           icon:'ü¶Ü', cat:'browser'},
  {name:'UC Browser',          pkg:'com.UCMobile.intl',                      icon:'üîµ', cat:'browser'},
  {name:'Google Files',        pkg:'com.google.android.apps.nbu.files',       icon:'üìÅ', cat:'files'},
  {name:'ES File Explorer',    pkg:'com.estrongs.android.pop',                icon:'üìÇ', cat:'files'},
  {name:'Solid Explorer',      pkg:'pl.solidexplorer2',                       icon:'üìÇ', cat:'files'},
  {name:'MiXplorer',           pkg:'com.mixplorer',                           icon:'üìÇ', cat:'files'},
  {name:'FX File Explorer',    pkg:'nextapp.fx',                              icon:'üìÇ', cat:'files'},
  {name:'CX File Explorer',    pkg:'com.cxinventor.file.explorer',            icon:'üìÇ', cat:'files'},
  {name:'Google Photos',       pkg:'com.google.android.apps.photos',          icon:'üì∑', cat:'gallery'},
  {name:'Simple Gallery',      pkg:'com.simplemobiletools.gallery.pro',       icon:'üñº', cat:'gallery'},
  {name:'Open Camera',         pkg:'net.sourceforge.opencamera',              icon:'üì∑', cat:'camera'},
  {name:'Nova Launcher',       pkg:'com.teslacoilsw.launcher',                icon:'üöÄ', cat:'launcher'},
  {name:'Microsoft Launcher',  pkg:'com.microsoft.launcher',                  icon:'ü™ü', cat:'launcher'},
  {name:'Niagara Launcher',    pkg:'bitpit.launcher',                         icon:'‚ö°', cat:'launcher'},
  {name:'Apex Launcher',       pkg:'com.anddoes.launcher',                    icon:'üî∫', cat:'launcher'},
  {name:'Instagram',           pkg:'com.instagram.android',                   icon:'üì∏', cat:'social'},
  {name:'Facebook',            pkg:'com.facebook.katana',                     icon:'üëç', cat:'social'},
  {name:'Twitter / X',         pkg:'com.twitter.android',                     icon:'üê¶', cat:'social'},
  {name:'Snapchat',            pkg:'com.snapchat.android',                    icon:'üëª', cat:'social'},
  {name:'TikTok',              pkg:'com.zhiliaoapp.musically',                icon:'üéµ', cat:'social'},
  {name:'Gmail',               pkg:'com.google.android.gm',                   icon:'üìß', cat:'utility'},
  {name:'Google Maps',         pkg:'com.google.android.apps.maps',            icon:'üó∫', cat:'utility'},
  {name:'Google Drive',        pkg:'com.google.android.apps.docs',            icon:'‚òÅÔ∏è', cat:'utility'},
  {name:'YouTube',             pkg:'com.google.android.youtube',              icon:'‚ñ∂Ô∏è', cat:'utility'},
  {name:'Google Translate',    pkg:'com.google.android.apps.translate',       icon:'üåç', cat:'utility'},
  {name:'Google Authenticator',pkg:'com.google.android.apps.authenticator2', icon:'üîê', cat:'security'},
  {name:'Authy',               pkg:'com.authy.authy',                         icon:'üîê', cat:'security'},
];

// Default categories
const DEF_CATS = [
  {cat:'phone',    label:'Phone',    icon:'üìû'},
  {cat:'messages', label:'Messages', icon:'üí¨'},
  {cat:'browser',  label:'Browser',  icon:'üåê'},
  {cat:'files',    label:'Files',    icon:'üìÅ'},
  {cat:'camera',   label:'Camera',   icon:'üì∑'},
  {cat:'gallery',  label:'Gallery',  icon:'üñºÔ∏è'},
  {cat:'launcher', label:'Launcher', icon:'üè†'},
  {cat:'store',    label:'Store',    icon:'üõç'},
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INTENT URL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const intentUrl = a => a.url || `intent://${a.pkg}/#Intent;scheme=${a.scheme||'android-app'};end`;

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STORAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const SK = 'apkBypassDefs2';
const loadDefs = () => { try{return JSON.parse(localStorage.getItem(SK)||'{}')}catch{return{}} };
const saveDef  = (cat,pkg) => { const d=loadDefs(); d[cat]=pkg; localStorage.setItem(SK,JSON.stringify(d)) };
const getDefApp= (cat,brandKey) => {
  const d=loadDefs(); if(!d[cat])return null;
  return allApps(brandKey).find(a=>a.pkg===d[cat])||null;
};
const toggleDef= (cat,pkg) => {
  const d=loadDefs();
  if(d[cat]===pkg){delete d[cat];localStorage.setItem(SK,JSON.stringify(d));return false;}
  d[cat]=pkg; localStorage.setItem(SK,JSON.stringify(d)); return true;
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HELPERS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let currentBrand = null;
let currentCatFilter = '';

const allApps = (brandKey) => {
  if(!brandKey||!BRANDS[brandKey]) return [];
  const b = BRANDS[brandKey];
  return [
    ...(b.native||[]).map(a=>({...a,group:'native'})),
    ...(b.popular||[]).map(a=>({...a,group:'popular'})),
    ...UNIVERSAL_POPULAR.map(a=>({...a,group:'third'}))
  ].filter((a,i,arr)=>arr.findIndex(x=>x.pkg===a.pkg)===i); // dedupe
};

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DEVICE DETECT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function detectBrand(){
  const ua = navigator.userAgent;
  for(const [key,b] of Object.entries(BRANDS)){
    if(b.detect && b.detect(ua)) return key;
  }
  return null;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE ROUTING ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showPage(id){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}
function showHome(){ showPage('page-home'); }
function showAllBrands(){ showPage('page-home'); }
function goToDetected(){ if(currentBrand) loadDevicePage(currentBrand); }

function loadDevicePage(brandKey){
  currentBrand = brandKey;
  currentCatFilter = '';
  const b = BRANDS[brandKey];
  if(!b) return;

  // Header
  document.getElementById('hBadge').textContent = b.name.split('/')[0].trim().toUpperCase();

  // Dev hero
  const apps = allApps(brandKey);
  const cats = [...new Set(apps.map(a=>a.cat))];
  document.getElementById('devHero').innerHTML = `
    <div class="dev-hero-ico">${b.emoji}</div>
    <div class="dev-hero-info">
      <div class="dev-hero-name">${b.name}</div>
      <div class="dev-hero-os">// ${b.os}</div>
    </div>
    <div class="dev-hero-stats">
      <div class="dev-stat"><span class="dev-stat-n">${(b.native||[]).length}</span><span class="dev-stat-l">Native</span></div>
      <div class="dev-stat"><span class="dev-stat-n">${apps.length}</span><span class="dev-stat-l">Total Apps</span></div>
      <div class="dev-stat"><span class="dev-stat-n">${cats.length}</span><span class="dev-stat-l">Categories</span></div>
    </div>
    <button onclick="showHome()" style="background:none;border:1px solid var(--border);color:var(--dim);font-family:'Share Tech Mono',monospace;font-size:10px;padding:6px 12px;cursor:pointer;margin-left:auto;letter-spacing:1px" onmouseover="this.style.borderColor='var(--g)'" onmouseout="this.style.borderColor='var(--border)'">‚Üê BRANDS</button>`;

  renderQuickChips(brandKey);
  renderCatFilter(brandKey);
  renderDevApps();
  showPage('page-device');
  window.scrollTo(0,0);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê QUICK CHIPS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderQuickChips(brandKey){
  const defs = loadDefs();
  const setCount = DEF_CATS.filter(dc=>defs[dc.cat]).length;
  document.getElementById('defaultsCount').textContent = `${setCount}/${DEF_CATS.length} SET`;

  const html = DEF_CATS.map(dc=>{
    const app = getDefApp(dc.cat, brandKey);
    if(app){
      return `<a class="qchip set" href="${intentUrl(app)}" target="_blank" rel="noopener">
        <span class="qc-ico">${app.icon}</span>
        <span class="qc-info">
          <span class="qc-label">${dc.icon} ${dc.label}</span>
          <span class="qc-name">${app.name}</span>
        </span>
      </a>`;
    } else {
      return `<div class="qchip qchip-add" onclick="openCatModal('${dc.cat}','${dc.label}','${brandKey}')">
        <span class="qc-ico">${dc.icon}</span>
        <span class="qc-info">
          <span class="qc-label">${dc.label}</span>
          <span class="qc-name" style="color:var(--dim);font-size:11px">+ set default</span>
        </span>
      </div>`;
    }
  }).join('');
  document.getElementById('quickChips').innerHTML = html;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CATEGORY FILTER ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderCatFilter(brandKey){
  const apps = allApps(brandKey);
  const cats = [...new Set(apps.map(a=>a.cat))].sort();
  const btns = ['all',...cats].map(c=>
    `<button class="cat-btn${(currentCatFilter===''&&c==='all')||(currentCatFilter===c)?' on':''}"
      onclick="setCat('${c==='all'?'':c}')">${c==='all'?'All':c}</button>`
  ).join('');
  document.getElementById('catBtns').innerHTML = btns;
}
function setCat(c){ currentCatFilter=c; renderCatFilter(currentBrand); renderDevApps(); }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê RENDER DEVICE APPS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderDevApps(){
  if(!currentBrand) return;
  const b = BRANDS[currentBrand];
  const q = (document.getElementById('devSearch')||{value:''}).value.toLowerCase();
  const defs = loadDefs();
  const container = document.getElementById('devAppSections');
  container.innerHTML = '';

  const filter = a => {
    const ms = a.name.toLowerCase().includes(q) || a.pkg.toLowerCase().includes(q);
    const mc = !currentCatFilter || a.cat === currentCatFilter;
    return ms && mc;
  };

  const groups = [
    {key:'native',  label:`${b.name.split('/')[0].trim()} Native Apps`,   priority:'native',  apps: (b.native||[]).filter(filter)},
    {key:'popular', label:'Popular Apps ‚Äî Works On This Device',           priority:'popular', apps: (b.popular||[]).filter(filter)},
    {key:'third',   label:'All Popular 3rd-Party Apps',                    priority:'third',   apps: UNIVERSAL_POPULAR.filter(a=>
      !(b.native||[]).find(n=>n.pkg===a.pkg) &&
      !(b.popular||[]).find(p=>p.pkg===a.pkg) &&
      filter(a)
    )},
  ];

  let any = false;
  groups.forEach((g,gi) => {
    if(!g.apps.length) return;
    any = true;
    // dedupe within group against previous groups
    const shownPkgs = groups.slice(0,gi).flatMap(prev=>prev.apps.map(a=>a.pkg));
    const apps = g.apps.filter(a=>!shownPkgs.includes(a.pkg));
    if(!apps.length) return;

    // sort defaults first
    apps.sort((a,b2) => (defs[b2.cat]===b2.pkg?1:0) - (defs[a.cat]===a.pkg?1:0));

    const items = apps.map(a=>{
      const isDefault = defs[a.cat]===a.pkg;
      return `<li class="app-li${isDefault?' is-default':''}">
        <a class="app-link" href="${intentUrl(a)}" target="_blank" rel="noopener">
          <span class="al-open">Open</span>
          <span class="al-ico">${a.icon}</span>
          <strong class="al-name">${a.name}${a.note?` <span style="font-size:9px;color:var(--dim);font-weight:400">(${a.note})</span>`:''}</strong>
          <span class="al-pkg">${a.pkg}</span>
          <span class="al-cat">${a.cat}</span>
          ${isDefault?`<span class="al-def-badge">‚òÖ DEFAULT</span>`:''}
          <button class="btn-setdef${isDefault?' on':''}"
            onclick="event.preventDefault();event.stopPropagation();doToggleDef('${a.cat}','${a.pkg}','${a.name.replace(/'/g,"\\'")}')">
            ${isDefault?'‚òÖ SET':'‚òÜ SET'}
          </button>
          <button class="btn-cp" onclick="event.preventDefault();event.stopPropagation();doCopy('${a.pkg}')">üìã</button>
          <span class="al-arr">‚Üí</span>
        </a>
      </li>`;
    }).join('');

    const sec = document.createElement('div');
    sec.className = 'app-group';
    sec.style.animationDelay = `${gi*0.05}s`;
    sec.innerHTML = `
      <div class="ag-head">
        <span class="ag-priority ${g.priority}">${g.priority.toUpperCase()}</span>
        <span class="ag-title">${g.label}</span>
        <span class="ag-count">${apps.length}</span>
      </div>
      <ul class="app-list">${items}</ul>`;
    container.appendChild(sec);
  });

  if(!any){
    container.innerHTML = `<div class="empty"><div class="empty-ico">üîç</div>// NO APPS FOUND ‚Äî TRY DIFFERENT SEARCH</div>`;
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DEFAULT TOGGLE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function doToggleDef(cat, pkg, name){
  const set = toggleDef(cat, pkg);
  renderQuickChips(currentBrand);
  renderDevApps();
  showToast(set ? `‚òÖ DEFAULT: ${name}` : `// CLEARED: ${name}`, set?'y':'g');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MODAL ‚Äî pick default for category ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let modalCat='', modalBrand='';

function openCatModal(cat, label, brandKey){
  modalCat=cat; modalBrand=brandKey;
  document.getElementById('modalTtl').textContent = `SET DEFAULT: ${label.toUpperCase()}`;
  document.getElementById('modalSub').textContent = `// choose your preferred ${label.toLowerCase()} app for quick launch`;
  document.getElementById('modalSrch').value='';
  document.getElementById('modalBg').classList.add('open');
  renderModalItems();
}
function openDefaultsModal(){
  const dc = DEF_CATS[0];
  openCatModal(dc.cat, dc.label, currentBrand||Object.keys(BRANDS)[0]);
}
function closeModal(){ document.getElementById('modalBg').classList.remove('open'); }

function renderModalItems(){
  const q = document.getElementById('modalSrch').value.toLowerCase();
  const defs = loadDefs();
  const curPkg = defs[modalCat]||'';
  const container = document.getElementById('modalItems');

  let pool = modalBrand ? allApps(modalBrand) : UNIVERSAL_POPULAR;
  let apps = pool.filter(a=>{
    const matchCat = a.cat===modalCat;
    const matchQ = !q || a.name.toLowerCase().includes(q) || a.pkg.toLowerCase().includes(q);
    return matchCat && matchQ;
  });
  // if searching and few results, include other cats
  if(q && apps.length<4){
    const extra = pool.filter(a=>a.cat!==modalCat&&(a.name.toLowerCase().includes(q)||a.pkg.toLowerCase().includes(q)));
    apps = [...apps,...extra].slice(0,20);
  }
  apps.sort((a,b2)=>(b2.pkg===curPkg?1:0)-(a.pkg===curPkg?1:0));

  if(!apps.length){
    container.innerHTML=`<div class="m-empty">// No apps found for "${q}"</div>`;return;
  }
  container.innerHTML = apps.map(a=>`
    <div class="m-item${a.pkg===curPkg?' sel':''}" onclick="selectModalDefault('${a.pkg}')">
      <span class="m-ico">${a.icon}</span>
      <div class="m-info">
        <div class="m-name">${a.name}</div>
        <div class="m-pkg">${a.pkg}</div>
        <div class="m-brand">${a.group==='native'?'// native system app':a.group==='popular'?'// popular on this device':'// universal 3rd-party'}</div>
      </div>
      ${a.pkg===curPkg?'<span class="m-check">‚òÖ</span>':''}
    </div>`).join('');
}

function selectModalDefault(pkg){
  if(!modalCat) return;
  saveDef(modalCat, pkg);
  const app = allApps(modalBrand).find(a=>a.pkg===pkg)||UNIVERSAL_POPULAR.find(a=>a.pkg===pkg);
  closeModal();
  if(currentBrand){ renderQuickChips(currentBrand); renderDevApps(); }
  showToast(`‚òÖ DEFAULT SET: ${app?app.name:pkg}`, 'y');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HOME PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderHome(){
  const grid = document.getElementById('brandGrid');
  grid.innerHTML = Object.entries(BRANDS).map(([k,b])=>`
    <div class="brand-tile" onclick="loadDevicePage('${k}')">
      <div class="bt-ico">${b.emoji}</div>
      <div class="bt-name">${b.name.split('/')[0].trim()}</div>
      <div class="bt-os">${b.os}</div>
      <div class="bt-count">${(b.native||[]).length} native apps</div>
    </div>`).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOAST ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showToast(msg,type='g'){
  const t=document.createElement('div');
  t.className=`toast ${type}`;t.textContent=msg;
  document.body.appendChild(t);setTimeout(()=>t.remove(),2800);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê COPY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function doCopy(pkg){ navigator.clipboard.writeText(pkg).then(()=>showToast('// COPIED: '+pkg,'g')); }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê INIT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
document.addEventListener('DOMContentLoaded',()=>{
  renderHome();

  const detected = detectBrand();
  const ua = navigator.userAgent;

  if(detected){
    const b = BRANDS[detected];
    document.getElementById('detLogo').textContent = b.emoji;
    document.getElementById('detName').textContent = b.name.split('/')[0].trim().toUpperCase();
    document.getElementById('detOS').textContent = '// ' + b.os;
    document.getElementById('hStrip').textContent = `${b.emoji} ${b.name.split('/')[0].trim().toUpperCase()} DETECTED`;
    document.getElementById('hBadge').textContent = b.name.split('/')[0].trim().toUpperCase();
    currentBrand = detected;
    // Auto-redirect to device page
    setTimeout(()=>loadDevicePage(detected), 600);
  } else {
    document.getElementById('detLogo').textContent = 'üì±';
    document.getElementById('detName').textContent = 'UNKNOWN DEVICE';
    document.getElementById('detOS').textContent = '// select your brand below';
    document.getElementById('hStrip').textContent = 'üì± ANDROID DEVICE';
    document.getElementById('hBadge').textContent = 'SELECT BRAND';
    document.getElementById('btnGo').style.display='none';
  }

  document.getElementById('devSearch').addEventListener('input', renderDevApps);
});
</script>
</body>
</html>
